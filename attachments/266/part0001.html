<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">There is a bug to fix here - the lack of a sensible error message indicates that Comm_spawn_multiple (and possibly Comm_spawn) isn't checking the arguments thoroughly.<div><br></div><div>Bill</div><div><br><div><br><div>Begin forwarded message:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>From: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica">Rajeev Thakur &lt;<a href="mailto:thakur@mcs.anl.gov">thakur@mcs.anl.gov</a>></font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>Date: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica">November 3, 2008 7:46:04 PM CST</font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>To: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica">"<a href="mailto:mpich-discuss@mcs.anl.gov">mpich-discuss@mcs.anl.gov</a>" &lt;<a href="mailto:mpich-discuss@mcs.anl.gov">mpich-discuss@mcs.anl.gov</a>></font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>Subject: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica"><b>Re: [mpich-discuss] Problems with mpi spawn multiple</b></font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>Reply-To: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica">"<a href="mailto:mpich-discuss@mcs.anl.gov">mpich-discuss@mcs.anl.gov</a>" &lt;<a href="mailto:mpich-discuss@mcs.anl.gov">mpich-discuss@mcs.anl.gov</a>></font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div> </div> <div> <div dir="ltr" align="left"><span class="265164501-04112008"><font face="Arial" color="#0000ff" size="2">You can't pass MPI::ROOT to Spawn_multiple. You have to give the rank of the process in COMM_WORLD that is the root.</font></span></div> <div dir="ltr" align="left"><span class="265164501-04112008"><font face="Arial" color="#0000ff" size="2"></font></span>&nbsp;</div> <div dir="ltr" align="left"><span class="265164501-04112008"><font face="Arial" color="#0000ff" size="2">Rajeev</font></span></div><br> <blockquote style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px solid; MARGIN-RIGHT: 0px">  <div class="OutlookMessageHeader" lang="en-us" dir="ltr" align="left">  <hr tabindex="-1">  <font face="Tahoma" size="2"><b>From:</b> mpich-discuss-bounces@mcs.anl.gov   [<a href="mailto:mpich-discuss-bounces@mcs.anl.gov">mailto:mpich-discuss-bounces@mcs.anl.gov</a>] <b>On Behalf Of   </b>fernando_luz<br><b>Sent:</b> Monday, November 03, 2008 2:35   PM<br><b>To:</b> <a href="mailto:mpich-discuss@mcs.anl.gov">mpich-discuss@mcs.anl.gov</a><br><b>Subject:</b> [mpich-discuss]   Problems with mpi spawn multiple<br></font><br></div>  <div></div>Hello,<br><br>I have problems when i try use spwan multiple in   mpich2 (1.0.7 version)<br><br>I receive this error when i execute my   code:<br><br>[0]Fatal error in MPI_Comm_spawn_multiple: Other MPI error, error   stack:<br>[0]MPI_Comm_spawn_multiple(152)..: MPI_Comm_spawn_multiple(count=2,   cmds=0x816b080, argvs=(nil), maxprocs=0x816afc0, infos=0x81a1600, root=-3,   MPI_COMM_WORLD, intercomm=0xbfa96f24, errors=(nil))   failed<br>[0]MPID_Comm_spawn_multiple(56)..:   <br>[0]MPIDI_Comm_spawn_multiple(203): <br>[0]MPID_Comm_accept(149).........:   <br>[0]MPIDI_Comm_accept(974)........: Unable to allocate -45393952 bytes of   memory for remote_translation (probably out of memory)<br><br>job   aborted:<br>rank: node: exit code[: error message]<br>0: a53: -2: Fatal error   in MPI_Comm_spawn_multiple: Other MPI error, error   stack:<br>MPI_Comm_spawn_multiple(152)..: MPI_Comm_spawn_multiple(count=2,   cmds=0x816b080, argvs=(nil), maxprocs=0x816afc0, infos=0x81a1600, root=-3,   MPI_COMM_WORLD, intercomm=0xbfa96f24, errors=(nil))   failed<br>MPID_Comm_spawn_multiple(56)..: <br>MPIDI_Comm_spawn_multiple(203):   <br>MPID_Comm_accept(149).........: <br>MPIDI_Comm_accept(974)........: Unable   to allocate -45393952 bytes of memory for remote_translation (probably out of   memory)<br><br><br>my code when I supose have a problem:<br><br>universe_size   = 3;<br><br>&nbsp; for (int i = 0; i &lt; universe_size-1;   i++){<br>&nbsp;&nbsp;&nbsp; strcpy(program_name[i], "worker_02");   <br>&nbsp;&nbsp;&nbsp; information[i] =   information[i].Create();<br>&nbsp;&nbsp;&nbsp;   information[i].Set("wdir","/home/fernando_luz/");<br>&nbsp;&nbsp;&nbsp;   information[i].Set("path","/home/fernando_luz/SVN/TPN3/casos_testes/02/worker_02/");<br>&nbsp;&nbsp;&nbsp;   information[i].Set("host","10.2.7.53");<br>&nbsp;&nbsp;&nbsp; n_proc[i] =   1;<br>&nbsp; }<br>&nbsp; everyone =   MPI::COMM_WORLD.Spawn_multiple(universe_size-1, (const char**) program_name,   MPI::ARGVS_NULL, n_proc, information, MPI::ROOT);<br>anybody have   ideas?<br><br>Thanks <br><br>Fernando Luz </blockquote></div></blockquote></div><br><div> <span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><span class="Apple-style-span" style="border-collapse: separate; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; -webkit-text-decorations-in-effect: none; text-indent: 0px; -webkit-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div>William&nbsp;Gropp</div><div>Deputy Director for Research</div><div>Institute for Advanced Computing Applications and Technologies</div><div>Paul and Cynthia Saylor Professor of Computer Science</div><div>University of Illinois Urbana-Champaign</div><div><br class="khtml-block-placeholder"></div></div><br class="Apple-interchange-newline"></span></div></span><br class="Apple-interchange-newline"> </div><br></div></body></html>