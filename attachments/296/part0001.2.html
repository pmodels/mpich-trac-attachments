<div>Dear Anthony Chan,</div>
<div>&nbsp;</div>
<div>Thanks for the input. I have compiled mpich2 without error as per your suggestions. </div>
<div>&nbsp;</div>
<div>The -isysroot is connects the directory path which follows it. Actually I got this through google. An option called -isystem os there in the man gcc. Actually when I remove -isysroot before the directory path mpich configure fails. I was able to compile without&nbsp;&nbsp;</div>

<div>-isysroot /Developer/SDKs/MacOSX10.5.sdk also. Hence apart from the env settings the following two things require for compilation in mac leopard</div>
<div>1. Provide malloc.h in src/include</div>
<div>2.&nbsp;&nbsp;Modify mpich2-xxx/src/mpe2/src/slog2sdk/trace_rlog/src/Makefile.in as suggested by A.Chan:<br><br>Replace: (4 instances) <br>$(LIBTOOL) --mode=link $(CC) -o $(LIB_TRACE) $(LOBJ) $(LDFLAGS)<br>as:<br>$(LIBTOOL) --mode=link $(CC) $(CFLAGS) -o $(LIB_TRACE) $(LOBJ) $(LDFLAGS)<br>
<br>&nbsp;</div>
<div>&nbsp;</div>
<div><span class="gmail_quote">On 11/21/08, <b class="gmail_sendername">mpich2</b> &lt;<a href="mailto:mpich2-maint@mcs.anl.gov">mpich2-maint@mcs.anl.gov</a>&gt; wrote:</span>
<blockquote class="gmail_quote" style="PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc 1px solid">---------------------------------------------+------------------------------<br>Reporter:&nbsp;&nbsp;&quot;jagan TNAU&quot; &lt;<a href="mailto:jagan@tnau.ac.in">jagan@tnau.ac.in</a>&gt;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Owner:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Type:&nbsp;&nbsp;bug&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Status:&nbsp;&nbsp;new<br>Priority:&nbsp;&nbsp;major&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;Milestone:<br>Component:&nbsp;&nbsp;mpich2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; Resolution:<br>Keywords:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
---------------------------------------------+------------------------------<br><br><br>Comment (by Anthony Chan):<br><br>{{{<br><br><br>It appears that the trace_rlog doesn&#39;t pass CFLAGS<br>to libtool&#39;s linker.&nbsp;&nbsp;That can be easily fixed, but the<br>
real issue is if the generated shared library works with<br>the java (virtual machine) since you modified the ABI<br>of the object files ?&nbsp;&nbsp;Since I don&#39;t have access to any<br>intel MacOSX, I can&#39;t confirm this.&nbsp;&nbsp;In any case, try modify<br>
mpich2-xxx/src/mpe2/src/slog2sdk/trace_rlog/src/Makefile.in<br>as follows:<br><br>Replace:<br>$(LIBTOOL) --mode=link $(CC) -o $(LIB_TRACE) $(LOBJ) $(LDFLAGS)<br>as:<br>$(LIBTOOL) --mode=link $(CC) $(CFLAGS) -o $(LIB_TRACE) $(LOBJ) $(LDFLAGS)<br>
<br>There should be 4 instances in the Makefile.in. Then rebuild<br>everything, i.e. make distclean, configure, make, make install.<br><br>BTW, what does -isysroot in CFLAGS do ?&nbsp;&nbsp;(gcc manpage on our old<br>Power MacOSX does not have that option)<br>
<br>A.Chan<br><br>----- &quot;mpich2&quot; &lt;<a href="mailto:mpich2-maint@mcs.anl.gov">mpich2-maint@mcs.anl.gov</a>&gt; wrote:<br><br>&gt;<br>---------------------------------------------+------------------------------<br>
&gt;&nbsp;&nbsp;Reporter:&nbsp;&nbsp;&quot;jagan TNAU&quot; &lt;<a href="mailto:jagan@tnau.ac.in">jagan@tnau.ac.in</a>&gt;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type:&nbsp;&nbsp;bug<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;Status:&nbsp;&nbsp;new&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;Priority:&nbsp;&nbsp;major<br>&gt; Milestone:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; Component:&nbsp;&nbsp;mpich2<br>
&gt;<br>---------------------------------------------+------------------------------<br>&gt;<br>&gt;<br>&gt;&nbsp;&nbsp;{{{<br>&gt;<br>&gt;&nbsp;&nbsp; Hello,<br>&gt;&nbsp;&nbsp;I have compiled mpich2-1.1.1a2 version in MAC book intel core2 duo,<br>&gt;&nbsp;&nbsp;2.4 GHz,&nbsp;&nbsp;MAC OSX 10.5.4 (Leopard), Darwin 9.4.0 using the following<br>
&gt; env<br>&gt;&nbsp;&nbsp;settings as per suggestion of Anthony Chan<br>&gt;<br>&gt;&nbsp;&nbsp; export F77=ifort<br>&gt;<br>&gt;&nbsp;&nbsp; export F90=ifort<br>&gt;<br>&gt;&nbsp;&nbsp; export CC=/usr/bin/gcc<br>&gt;<br>&gt;&nbsp;&nbsp; export CXX=/usr/bin/c++<br>&gt;<br>
&gt;&nbsp;&nbsp; export FFLAGS=&quot;-i4 -O3 -xT -align all -fno-alias -m64&quot;<br>&gt;&nbsp;&nbsp;export F90FLAGS=&quot;-i4 -O3 -xT -align all -fno-alias -m64&quot;<br>&gt;<br>&gt;&nbsp;&nbsp; export CFLAGS=&quot;-arch x86_64 -mmacosx-version-min=10.5 -m64 -O3<br>
&gt;&nbsp;&nbsp; -DMACOS&nbsp;&nbsp;-isysroot /Developer/SDKs/MacOSX10.5.sdk&quot;<br>&gt;<br>&gt;&nbsp;&nbsp; CXXFLAGS=&quot;-m64 -O3 -DMACOS -isysroot<br>&gt; /Developer/SDKs/MacOSX10.5.sdk&quot;<br>&gt;<br>&gt;&nbsp;&nbsp; ./configure --prefix=/usr/local/mpich --enable-f90<br>
&gt;<br>&gt;&nbsp;&nbsp;Still I got the same error as got for mpich2-1.1.0a1 version. I am<br>&gt;&nbsp;&nbsp;attaching<br>&gt;&nbsp;&nbsp;configure log and make log for further help.<br>&gt;<br>&gt;<br>&gt;&nbsp;&nbsp;--<br>&gt;<br>&gt;&nbsp;&nbsp;With regards<br>&gt;<br>
&gt;&nbsp;&nbsp;Dr.R.Jagannathan<br>&gt;&nbsp;&nbsp;Professor and Head<br>&gt;&nbsp;&nbsp;Agro Climate Research Centre,<br>&gt;&nbsp;&nbsp;Tamil Nadu Agricultural University,<br>&gt;&nbsp;&nbsp;Coimbatore - 641 003 India<br>&gt;<br>&gt;&nbsp;&nbsp;PHONE: Off: 91-422-6611519 Res: 91-422-2453600<br>
&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fax: 91-422-2430657 Mob: 91-94438 89891<br>&gt;&nbsp;&nbsp;}}}<br>&gt;<br>&gt;<br>&gt; --<br>&gt; Ticket URL: &lt;<a href="https://trac.mcs.anl.gov/projects/mpich2/ticket/296">https://trac.mcs.anl.gov/projects/mpich2/ticket/296</a>&gt;<br>
}}}<br><br>--<br>Ticket URL: &lt;<a href="https://trac.mcs.anl.gov/projects/mpich2/ticket/296#comment">https://trac.mcs.anl.gov/projects/mpich2/ticket/296#comment</a>:&gt;<br></blockquote></div><br><br clear="all"><br>-- <br>
Please visit our Agri Weather Bulletin page<br><a href="http://agmet.tnau.ac.in/acrc/index.html">http://agmet.tnau.ac.in/acrc/index.html</a><br><br>With regards<br><br>Dr.R.Jagannathan <br>Professor and Head <br>Agro Climate Research Centre, <br>
Tamil Nadu Agricultural University, <br>Coimbatore - 641 003 India <br><br>PHONE: Off: 91-422-6611519 Res: 91-422-2453600<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fax: 91-422-2430657 Mob: 91-94438 89891 
