<html><head><style type="text/css"><!-- DIV {margin:0px;} --></style></head><body><div style="font-family:times new roman,new york,times,serif;font-size:12pt">Dear Mpich Adviser,<br>I had be successful&nbsp; to install MPICH2 with gfortran. Now I try to compile with Intel compiler to install VASP code. <br>I tried install MPICH2(1.0.7) with Intel compiler (10.1.018). I have some errors.<br>The first error is:&nbsp; &nbsp; <br><br>Command:<br><span style="background-color: rgb(255, 255, 64);">$./configure --prefix=/opt/mpich2 CC=icc CXX=icpc CFLAGS=-O3-wW-tpp7&nbsp; FC=ifort F77=ifort F90=ifort FFLAGS=-O3-wW-tpp7 --disable-mpe --disable-romio --enable-fast</span><br>Configuring MPICH2 version 1.0.7 with '--prefix=/opt/mpich2' 'CC=icc' 'CXX=icpc' 'CFLAGS=-O3-wW-tpp7' 'FC=ifort' 'F77=ifort' 'F90=ifort' 'FFLAGS=-O3-wW-tpp7' '--disable-mpe' '--disable-romio' '--enable-fast'<br>Running on system: Linux loc 2.6.27.5-117.fc10.x86_64 #1 SMP Tue Nov 18 11:58:53
 EST 2008 x86_64 x86_64 x86_64 GNU/Linux<br>Executing mpich2prereq in /home/loc/back_up/mpich2-1.0.7/src/mpid/ch3 with <br>Executing mpich2prereq in /home/loc/back_up/mpich2-1.0.7/src/mpid/ch3/channels/sock<br>sourcing /home/loc/back_up/mpich2-1.0.7/src/pm/mpd/mpich2prereq<br>sourcing /home/loc/back_up/mpich2-1.0.7/src/pm/mpd/setup_pm<br>checking for gcc... icc<br>checking for C compiler default output file name... a.out<br>checking whether the C compiler works... yes<br>checking whether we are cross compiling... no<br>checking for suffix of executables... <br>checking for suffix of object files... o<br>checking whether we are using the GNU C compiler... yes<br>checking whether icc accepts -g... yes<br>checking for icc option to accept ANSI C... none needed<br>checking whether C compiler accepts option -O2... yes<br>checking whether routines compiled with -O2 can be linked with ones compiled without -O2... yes<br>checking for type of weak symbol
 support... pragma weak<br>checking whether __attribute__ ((weak)) allowed... yes<br>checking for multiple weak symbol support... yes<br>checking whether we are using the GNU Fortran 77 compiler... no<br>checking whether ifort accepts -g... yes<br>checking whether Fortran 77 compiler accepts option -O2... yes<br>checking whether routines compiled with -O2 can be linked with ones compiled without -O2... yes<br>checking how to get verbose linking output from ifort... -v<br>checking for Fortran libraries of ifort...&nbsp; -L/opt/intel/fce/10.1.018/lib -L/opt/gcc/lib/gcc/x86_64-unknown-linux-gnu/4.3.1/ -L/opt/gcc/lib/gcc/x86_64-unknown-linux-gnu/4.3.1/../../../../lib64 -L/usr/lib/../lib64 -lifport -lifcore -limf -lsvml -lm -lipgo -lirc -lgcc_s -lirc_s -ldl<br>checking whether ifort accepts the FLIBS found by autoconf... yes<br>checking whether C can link with&nbsp; -L/opt/intel/fce/10.1.018/lib -L/opt/gcc/lib/gcc/x86_64-unknown-linux-gnu/4.3.1/
 -L/opt/gcc/lib/gcc/x86_64-unknown-linux-gnu/4.3.1/../../../../lib64 -L/usr/lib/../lib64 -lifport -lifcore -limf -lsvml -lm -lipgo -lirc -lgcc_s -lirc_s -ldl... yes<br>checking for linker for Fortran main programs... Use Fortran to link programs<br>checking for Fortran 77 name mangling... lower underscore<br>checking what libraries are needed to link Fortran programs with C routines that use stdio... none<br>checking that f works as the extension for Fortran 90 program... yes<br>checking whether we are using the GNU Fortran 90 compiler... no<br>checking whether ifort accepts -g... yes<br>checking for extension for Fortran 90 programs... f90<br>checking whether the Fortran 90 compiler (ifort&nbsp; -DNDEBUG ) works... yes<br>checking whether the Fortran 90 compiler (ifort&nbsp; -DNDEBUG ) is a cross-compiler... no<br>checking whether Fortran 90 works with Fortran 77... yes<br>checking whether Fortran accepts ! for comments... yes<br>checking for include
 directory flag for Fortran... -I<br>checking for Fortran 77 flag for library directories... -L<br>checking for which Fortran libraries are needed to link C with Fortran... none<br>checking whether Fortran compiler processes .F files with C preprocessor... yes<br>checking that f works as the extension for Fortran 90 program... yes<br>checking whether we are using the GNU Fortran 90 compiler... (cached) no<br>checking whether ifort accepts -g... (cached) yes<br>checking for extension for Fortran 90 programs... f90<br>checking whether the Fortran 90 compiler (ifort&nbsp; -DNDEBUG ) works... yes<br>checking whether the Fortran 90 compiler (ifort&nbsp; -DNDEBUG ) is a cross-compiler... no<br>checking for Fortran 90 module extension... mod<br>checking for Fortran 90 module include flag... -I<br>checking whether Fortran 90 accepts f90 suffix... yes<br>checking whether Fortran 90 compiler accepts option -O2... yes<br>checking whether routines compiled with -O2
 can be linked with ones compiled without -O2... yes<br>checking whether Fortran 90 compiler processes .F90 files with C preprocessor... yes<br>checking what libraries are needed to link Fortran90 programs with C routines that use stdio... none<br>checking for f90 compiler vendor... intel<br>checking for c++... icpc<br>checking whether we are using the GNU C++ compiler... yes<br>checking whether icpc accepts -g... yes<br>checking whether the C++ compiler icpc can build an executable... yes<br>checking whether the compiler supports exceptions... yes<br>checking whether the compiler recognizes bool as a built-in type... yes<br>checking whether the compiler implements namespaces... yes<br>checking whether &lt;iostream&gt; available... yes<br>checking whether the compiler implements the namespace std... yes<br>checking whether &lt;math&gt; available... no<br>checking for GNU g++ version... 4 . 3<br>checking whether C++ compiler accepts option -O2...
 yes<br>checking whether routines compiled with -O2 can be linked with ones compiled without -O2... yes<br>checking for perl... /usr/bin/perl<br>checking for ar... ar<br>checking for ranlib... ranlib<br>checking for etags... no<br>checking for killall... killall<br>checking for a BSD-compatible install... /usr/bin/install -c<br>checking whether install works... yes<br>checking whether install breaks libraries... no<br>checking whether mkdir -p works... yes<br>checking for make... make<br>checking whether clock skew breaks make... no<br>checking whether make supports include... yes<br>checking whether make allows comments in actions... yes<br>checking for virtual path format... VPATH<br>checking whether make sets CFLAGS... yes<br>checking for bash... /bin/sh<br>checking whether /bin/sh supports arrays... yes<br>checking for doctext... false<br>checking for location of doctext style files... unavailable<br>checking for an ANSI C-conforming const...
 yes<br>checking for volatile... yes<br>checking for restrict... __restrict<br>checking for inline... inline<br>checking whether __attribute__ allowed... yes<br>checking whether __attribute__((format)) allowed... yes<br>checking whether byte ordering is bigendian... no<br>checking whether C compiler allows unaligned doubles... yes<br>checking whether icc supports __func__... yes<br>Using gcc to determine dependencies<br>checking whether long double is supported... yes<br>checking whether long long is supported... yes<br>checking for max C struct integer alignment... eight<br>checking for max C struct floating point alignment... sixteen<br>checking for max C struct alignment of structs with doubles... eight<br>checking for max C struct floating point alignment with long doubles... sixteen<br>configure: WARNING: Structures containing long doubles may be aligned differently from structures with floats or longs.&nbsp; MPICH2 does not handle this case
 automatically and you should avoid assumed extents for structures containing float types.<br>checking if alignment of structs with doubles is based on position... no<br>checking if alignment of structs with long long ints is based on position... no<br>checking if double alignment breaks rules, find actual alignment... no<br>checking for alignment restrictions on pointers... int or better<br>checking for egrep... grep -E<br>checking for ANSI C header files... no<br>checking for sys/types.h... yes<br>checking for sys/stat.h... yes<br>checking for stdlib.h... yes<br>checking for string.h... yes<br>checking for memory.h... yes<br>checking for strings.h... yes<br>checking for inttypes.h... yes<br>checking for stdint.h... yes<br>checking for unistd.h... yes<br>checking for char... yes<br>checking size of char... 1<br>checking for short... yes<br>checking size of short... 2<br>checking for int... yes<br>checking size of int... 4<br>checking for long...
 yes<br>checking size of long... 8<br>checking for long long... yes<br>checking size of long long... 8<br>checking for float... yes<br>checking size of float... 4<br>checking for double... yes<br>checking size of double... 8<br>checking for long double... yes<br>checking size of long double... 16<br>checking for wchar_t... yes<br>checking size of wchar_t... 4<br>checking for void *... yes<br>checking size of void *... 8<br>checking for size of float int... 8<br>checking for size of double int... 12<br>checking for size of long int... 12<br>checking for size of short int... 6<br>checking for size of 2 int... 8<br>checking for size of long double int... 20<br>checking for sys/bitypes.h... yes<br>checking for int16_t... yes<br>checking for int32_t... yes<br>checking for int64_t... yes<br>checking for size of Fortran type integer... 4<br>checking for size of Fortran type real... 4<br>checking for size of Fortran type double precision... 8<br>checking whether
 integer*1 is supported... yes<br>checking whether integer*2 is supported... yes<br>checking whether integer*4 is supported... yes<br>checking whether integer*8 is supported... yes<br>checking whether integer*16 is supported... no<br>checking whether real*4 is supported... yes<br>checking whether real*8 is supported... yes<br>checking whether real*16 is supported... yes<br>checking for C type matching Fortran integer... int<br>checking for size of MPI_Status... 20<br>checking for values of Fortran logicals... True is -1 and False is 0<br>checking how to run the C preprocessor... /lib/cpp<br>checking for Fortran 90 integer kind for 8-byte integers... 8<br>checking for bool... yes<br>checking size of bool... 1<br>checking how to run the C++ preprocessor... /lib/cpp<br>checking for complex... no<br>checking if char * pointers use byte addresses... yes<br>checking for alignment restrictions on int64_t... no<br>checking for alignment restrictions on
 int32_t... no<br>checking for size of MPI_BSEND_OVERHEAD... 95<br>checking for gcc __asm__ and pentium cmpxchgl instruction... no<br>checking for gcc __asm__ and AMD x86_64 cmpxchgq instruction... yes<br>checking for gcc __asm__ and IA64 xchg4 instruction... no<br>checking for ANSI C header files... (cached) no<br>checking for stdlib.h... (cached) yes<br>checking for stdarg.h... yes<br>checking for sys/types.h... (cached) yes<br>checking for inttypes.h... (cached) yes<br>checking for limits.h... no<br>checking for stddef.h... yes<br>checking for errno.h... yes<br>checking for sys/socket.h... yes<br>checking for sys/time.h... yes<br>checking for unistd.h... (cached) yes<br>checking for endian.h... yes<br>checking for assert.h... yes<br>checking for sys/uio.h... yes<br>checking for size_t... yes<br>checking for setitimer... no<br>checking for alarm... no<br>checking for vsnprintf... no<br>checking for vsprintf... no<br>checking for strerror...
 no<br>checking for snprintf... no<br>checking for va_copy... yes<br>checking for working alloca.h... yes<br>checking for alloca... yes<br>checking for strdup... no<br>checking for clock_gettime... no<br>checking for clock_getres... no<br>checking for gethrtime... no<br>checking for gettimeofday... no<br><span style="background-color: rgb(255, 255, 128);">configure: error: No timer found</span><br><br>After that, I tried enable timer: <br>Error in compile MPICH2<br>Command:<br>$./configure --prefix=/opt/mpich2 CC=icc CXX=icpc CFLAGS=-O3-wW-tpp7&nbsp; FC=ifort F77=ifort F90=ifort FFLAGS=-O3-wW-tpp7 --enable-timer-type=linux86_cycle --disable-mpe --disable-romio --enable-fast<br>........<br>checking for C compiler default output file name... a.out<br>checking whether the C compiler works... yes<br>checking whether we are cross compiling... no<br>checking for suffix of executables... <br>checking for suffix of object files... o<br>checking whether we are
 using the GNU C compiler... yes<br>checking whether icc accepts -g... yes<br>checking for icc option to accept ANSI C... none needed<br>checking for inline... inline<br>checking for poll... no<br>c<span style="background-color: rgb(255, 255, 64);">onfigure: error: This device requires the poll function</span><br style="background-color: rgb(255, 255, 64);"><span style="background-color: rgb(255, 255, 64);">configure: error: /bin/sh '/home/loc/back_up/mpich2-1.0.7/src/mpid/common/sock/poll/configure' failed for poll</span><br style="background-color: rgb(255, 255, 64);"><span style="background-color: rgb(255, 255, 64);">configure: error: Configure of src/mpid/common/sock failed!</span><br><br>How can I solve this problem? I am very appreciate&nbsp; for your helps.<br><br>Best regards,<br>Loc Duong Dinh<br>SAINT, Sungkyunkwan University, South Korean.<br>mambom1902@yahoo.com<br>&nbsp;<br><br><br></div><br>



      </body></html>