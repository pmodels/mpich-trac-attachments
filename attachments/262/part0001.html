<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Last night I chased down an ugly problem that showed up when I tried to build MPICH2 with -Wall -Werror (telling gcc to turn on more warnings, and to consider warnings to be errors).<div><br></div><div>The upshot is that -Wall -Werror makes autoconf believe that the compiler doesn't support "const", and then things go downhill from there.  The root cause is described here:</div><div><br></div><div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" style="font: 12.0px Helvetica"><span class="Apple-tab-span" style="white-space:pre">	</span><a href="http://www.nabble.com/fix-AC_C_CONST-to-work-with-CFLAGS--O2--Wall--Werror-td17164627.html">http://www.nabble.com/fix-AC_C_CONST-to-work-with-CFLAGS--O2--Wall--Werror-td17164627.html</a></font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">...where there is some discussion about whether the problem ought to be fixed in autoconf.</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Does MPICH2 in fact build on pre-C89 compilers?  If not, perhaps it would make sense to drop the use of AC_C_CONST in configure.in (as a poster above suggests) and to enforce that the compiler be at least C89.</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">-dg</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><br></div></div><div> <span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><div>--</div><div>David Gingold</div><div>Principal Software Engineer</div><div>SiCortex</div><div>Three Clock Tower Place, Suite 210</div><div>Maynard MA 01754</div><div>(978) 897-0214 x224</div><div><br class="khtml-block-placeholder"></div><br class="Apple-interchange-newline"></span></span> </div><br></body></html>